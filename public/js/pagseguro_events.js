let cardNumber=document.querySelector("input[name=card_number]"),spanBrand=document.querySelector("span.brand");cardNumber.addEventListener("keyup",(function(){cardNumber.value.length>=6&&PagSeguroDirectPayment.getBrand({cardBin:cardNumber.value.substr(0,6),success:function(e){let r=`<img src="https://stc.pagseguro.uol.com.br/public/img/payment-methods-flags/68x30/${e.brand.name}.png">`;spanBrand.innerHTML=r,document.querySelector("input[name=card_brand]").value=e.brand.name,getInstallments(amoutTransaction,e.brand.name)},error:function(e){console.log(e)},complete:function(e){}})}));let submitButton=document.querySelector("button.processCheckout");submitButton.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("div.msg").innerHTML="";let r=e.target;r.disabled=!0,r.innerHTML="Carregando...",PagSeguroDirectPayment.createCardToken({cardNumber:document.querySelector("input[name=card_number]").value,brand:document.querySelector("input[name=card_brand]").value,cvv:document.querySelector("input[name=card_cvv]").value,expirationMonth:document.querySelector("input[name=card_month]").value,expirationYear:document.querySelector("input[name=card_year]").value,success:function(e){proccessPayment(e.card.token,r)},error:function(e){r.disabled=!1,r.innerHTML="Efetuar Pagamento";for(let r in e.errors)document.querySelector("div.msg").innerHTML=showErrorMessages(errorsMapPagseguroJS(r))}})}));
